# 连接世界的供应链

_京京🍒 供稿_

_Leo([LeoTsui](https://www.github.com/LeoTsui)) 整理_

_夜战八方哒叭将([AnnaLu](https://github.com/xrlu0929))、MrLeft、 安芯、Fengari参与讨论，对本文亦有贡献_

- [源自罗马军队的古来词汇](#%e6%ba%90%e8%87%aa%e7%bd%97%e9%a9%ac%e5%86%9b%e9%98%9f%e7%9a%84%e5%8f%a4%e6%9d%a5%e8%af%8d%e6%b1%87)
- [成型于二战的新型学科](#%e6%88%90%e5%9e%8b%e4%ba%8e%e4%ba%8c%e6%88%98%e7%9a%84%e6%96%b0%e5%9e%8b%e5%ad%a6%e7%a7%91)
- [经济全球化带来的新内涵](#%e7%bb%8f%e6%b5%8e%e5%85%a8%e7%90%83%e5%8c%96%e5%b8%a6%e6%9d%a5%e7%9a%84%e6%96%b0%e5%86%85%e6%b6%b5)
- [与不确定性缠斗](#%e4%b8%8e%e4%b8%8d%e7%a1%ae%e5%ae%9a%e6%80%a7%e7%bc%a0%e6%96%97)
  - [不确定性与风险](#%e4%b8%8d%e7%a1%ae%e5%ae%9a%e6%80%a7%e4%b8%8e%e9%a3%8e%e9%99%a9)
  - [需求预测](#%e9%9c%80%e6%b1%82%e9%a2%84%e6%b5%8b)
  - [过程管理](#%e8%bf%87%e7%a8%8b%e7%ae%a1%e7%90%86)
- [供应链“能好怎 ”？](#%e4%be%9b%e5%ba%94%e9%93%be%e8%83%bd%e5%a5%bd%e6%80%8e)
- [SCOR model](#scor-model)
- [最终目的](#%e6%9c%80%e7%bb%88%e7%9b%ae%e7%9a%84)
- [关于需求预测](#%e5%85%b3%e4%ba%8e%e9%9c%80%e6%b1%82%e9%a2%84%e6%b5%8b)
- [预测准确率参考图，](#%e9%a2%84%e6%b5%8b%e5%87%86%e7%a1%ae%e7%8e%87%e5%8f%82%e8%80%83%e5%9b%be)
- [牛鞭效应](#%e7%89%9b%e9%9e%ad%e6%95%88%e5%ba%94)
- [Q&A](#qa)
- [补充](#%e8%a1%a5%e5%85%85)

## 源自罗马军队的古来词汇

供应链（logistic）这个词就是后勤学的意思，这个词的词源最早就来自于古罗马军队，是一个非常古老的词，所以我们可以说供应链管理，从一开始就是和军事紧紧的联系在一起的。

## 成型于二战的新型学科

供应链管理的概念起源很早，基本上说在第二次世界大战欧洲战场上，美国的空军后勤系统体系就是靠着供应链管理这么一个概念发展起来的。

当然这个时候他不叫供应链管理，通常是叫军事后勤学，所以前段时间微博上有一个段子是说当大家说到二战的时候，日本人让文科生上战场，理科生去做后勤。

当时网友们觉得非常有意思，因为在大家听来后勤就是打杂，管管各种物资，实际上在大型的军事行动中，我们都知道要粮草先行。

所以供应链一开始就是科学范畴，而且非常的倚重数学。

## 经济全球化带来的新内涵

而随着跨国公司业务发展逐步成型，商业不仅仅是在一个小范围内，熟人间的一些小规模的货物交换。随着商业的规模化，也有了更复杂的一些应用场景。

逐渐的，大家发现不太可能由一家企业来控制着产品从原材料供应生产制造到分销物流仓储的所有环节，这个时候也是商业的分工化概念开始兴起的时期。

在上个世纪70年代末期，麻省理工学院的Jay W. Forrester教授，他利用系统动力学来模拟计算了美国制造业价值链的最佳运营方式。

刚刚我们说到的这些信息集成和动作协同的需求，在跨国公司发展的过程中也要求会有这么一个信息化的辅助。

最后得到的结论是，如果你想要把采购生产分销和运输整体效率最优，那必须要靠四个方面的核心企业来信息集成，并且要在运营上有一些协同才能实现。

这就形成了一个完整的供应链系统的观点，所以我们看供应链这三个字，可能会以为他是一个链条，实际上它更像是一张网，从物品的原材料到最后到消费者手上，甚至是说包含产品生命周期的一些可持续发展的处理，全部都包含在内。

信息化也是公立医院发展的三大趋势之一，另外两个趋势一个是规模化，另外一个是数字化。

Jay W. Forrester 教授他的一些生平介绍，以及系统动力学的一些介绍可以参看[这里](https://www.systemdynamics.org/jay-w-forrester-page)。系统动力学是供应链进行决策、优化的模型中的重要一种。系统动力要用作企业战略规划业务流程设计，包括一些生物医学模型、企业的工业流程设计、能源环境还有动态决策等等。

## 与不确定性缠斗

### 不确定性与风险

供应链管理最大的一个作用，在我看来是和不确定性来缠斗。

不确定性，我在这里把它分成了两块儿：

* 一块儿是Uncertainty，字面上的就是不确定性
* 另外一个是Risk，通常我们会说是叫做风险。

两者最大的区别就在于前者不可量化，而风险相对来说是可以量化的，我们之所以会说风险管理因为可以量化，我们就可以把它数据化，把它逐步拆解下来。

### 需求预测

而对于相对比较难以量化的不确定性，我们通常会依照过去的经验来帮忙做分析。

也就是主观判断，通常的方法叫做Delphi法，也就是说你会去请教这个领域的专家，或者是一些专业研究人员，听听他们对此事的分析，甚至说会有一些比较玄学的叫做商业触觉。

而在供应链管理中，我们做需求用的最多的量化分析通常都是时间序列，或者是指数平滑法。

我们举个例子吧，比如说我是一个学校周围的花店店主，时间序列就是说，我看过往的这么一些销量来判断我下一次进货，我要进多少。

而指数平滑相对来说就是让整个模型不仅仅是依靠过去的这么一些数据，它会再加上不同的参数，比如说会对未来有趋势上的判断，会有季节周期性上的判断等等，这样子做出来的模型会稍微来说会更准确一些。

而对于模型来说，一般情况下越复杂，输入的参数越多的模型结果会更加准确，当然它的成本也会更高。

### 过程管理

全流程意外情况预判与处理：在整个从上游到下游的阶段里，这个过程中，你对一些突发情况怎么去预判怎么去处理。

## 供应链“能好怎 ”？

供应链管理它是一个复合的学科，它会用系统分析决策分析运筹学控制论统计学和计算机方法等工具来管理货物流资金流与信息流。

换句话说，供应链管理真的是什么都要管他。

## SCOR model

供应链管理中非常重要的一个模型，叫做**SCOR model（Supply chain operation reference model）**

上面第一点P1是计划，计划是非常重要的，你要根据你的预测，还有你现在手上有的这么一些资源来判断你接下来应该怎么做。

模型最左边的Supplier就是上游，最右边customer就是下游

模型中间第一个source是采购

中间第二个有了原材料要进行生产Make

* Make-to-Stock是我知道我要做什么，做出来入库存储，别人提货，我拿库存给他
* Make-to-order，也就是说我收到订单之后，根据你的订单需求来嗯来生产
* Engineer-to-order，就是根据你的订单，我从头到尾去做这么一系列的产品设计，然后生产出来。

这个拿服装来说会比较容易取利益点，第一种就是你去一家服装店买了他们现在有的库存的这么一款服装；第二种情况是你试了这个衣服，然后他没有现货，过段时间他可能会在后台下一个单，这个就是第二种’第三种就是让裁缝从头到尾给你量身定做一身衣服。

当然，在不同的行业里，他不一定同时会具备三种同样的情况。

然后我们在生产之后，下一步就是分拨和运输（Deliver），这一步就是可能会有很多个中间商和分销商或者代理，但最终物品是到了最终端的消费者手上。

最下面会有两个黄色的箭头，Return deliver，这个是退货的意思。

## 最终目的

我们都知道说公司他是追求利益的，但做供应链管理，我们讲的是最终目的是为了**满足供应链末端客户的需求**。

刚才也跟大家说过，供应链管理他是一个网状的结构，所以我们在计算成本的时候，有时候会考虑到的是整条供应链，为了满足客户需求而产生的成本，而不仅仅是自己的一亩三分田。

当然这个是最终目的，大部分情况下大家都还是说我自己的公司能理清楚就已经很不错了。

## 关于需求预测

前面讲到供应链是在和不确定性传统，而我们要经常面对的就是要做预测，关于预测的话会有三条真理，。

1. 预测永远是错的

2. 对近期进行预测好过对远期的预测：你的准确度一定是好过对远期的预测，这个应该很容易理解，就想预约明天是什么天气，一定会比预言明年的明天是什么，天气要容易的很多，而且也更容易准确。

3. 综合预测好过单项预测：样本总体的参数会更加稳定

## 预测准确率参考图，

该图最左侧这一栏是针对不同产品品类的，如果一个东西他从来都没有出现在世界上过（New-to），那我们对它的预测准确率就非常不容易准确。

因为就好像说，在可口可乐被发明之前，没有人知道可口可乐的市场需求是什么样子。

## 牛鞭效应

接下来和大家说说看一些实际的例子吧，刚刚听了这么多理论，应该还挺闷的。

我看到一张图，是疫情期间看到别人发的一个朋友圈，上面说的是亲爱的顾客，现在蔬菜不缺，但是你抢就缺了，因此上级让我们成倍的调货，几天后你抢的菜太多，吃不完坏了，我进来货太多卖不掉烂了，我们不要互相折磨好不好。

这是一个非常典型的牛鞭效应的例子。

刚刚我们收到从下游客户这一端网上分销商，在网上经销商生产商到原材料的提供商，这是一层一层的递进的。

比如这个例子里，我们可能只是作为个人去抢了一点菜，可能我也强不了多少，平时买三天的，现在买一个星期的。

对于我个人而言，我也就多买了一点点嘛，也就多了三天的量而已，可是对于他这个超市来说。

那对于超市来说，他现在进货的多少是根据历史数据来做出的决策。

忽然一下子大家都在买很多，那对于他来说就是他也不知道要进多少，对他来说，进多少卖出去多少永远都是会清空货柜。

那对于这家超市来说，他就得要成倍的调货，对于其他超市来说，也有可能发生类似的情况。

那我们可以想想看再继续往上到那些供应商，甚至田间地头，农民那个位置，对他来说就是平时可收一个大棚的菜，就够全市的人民一天的量，现在是所有超市都在跟他加倍的下单，他可能会一下子就断供了。

后面有群友问到说在疫情期间，为什么有的超市断货，有的超市能保证货源充足，这个问题超级好，我想先回答他。

首先，对于供应商来说，她在自己手上所有的货都给出去依然不足，于满足所有订单的情况下，他要做出的决策是，既然怎么都不够，那我应该优先保证谁？

而且要考虑是以什么样的形式来保证是谁的订单，先下下来我就给谁，还是说我先祖利于保住对我来说最重要的那个客户的所有订单，其他的缺货就缺着，或者是说我根据大家的订单，每个人都按一个配额的比例来给货。

所以这就非常考验一个公司，他和上下有议价的能力。

再有就是说，我们要考虑的是疫情期间，我们的整个交通物流也不是那么畅通，尤其是跨省的这么一些长途运输吧，所以，这就会导致如果一家超市它的生鲜主要是靠进口，那可能会比较麻烦，如果都是本地的供应商，那会好很多。

## Q&A

> 请问买不到switch Lego是否与供应链有关？（应该如何看待。。？）

好，然后回答大家都非常感兴趣的，买不到思维去和乐高是否和供应链有关有的。

第一个，我们要先把这两个商品区分一下，分类来看看他们的特征有哪些一致和不同。

做了Lego需要的原材料类别一定小于switch，他的整个公务员会简单非常多。

switch作为一种电子产品，他需要的是跨国供应链，也就是说，不同的部件可能是在不同的国家和地区生产，最后统一运到某一个地区去组装，然后再分销到全球不同的市场上去。

这么看来的话是会取会脆弱很多，因为任何一环出问题都会导致最终产品没有办法按时这么交付。

而且电子产品它的更新换代会比较快，另外就是说就像刚刚我们提到的，可能会在缺货的时候，供应商会要以不同的方式来确保能给谁出货。

如果所谓其他的某些部件和其他电子产品是共用的，共用的程度越深，那他缺货的概率就会越大，尤其是switch，他的这个市场占有量比起，智能手机和智能电脑会小很多，那我作为一个供应商，我可能不会优先的来保证switch这么一个群订单的叫fulfillment。

当然，最主要的原因还是说是大家的需求忽然高上去了。

所以根据刚刚跟大家讲的牛鞭效应，我估计所以扯了高，他们最上游的那些生产商应该非常痛苦吧。

> 供应链的路径是怎么制定的，也像谷歌地图一样用图论算法么。

这里我理解路径是说他最优路径指定，也就是writing。方法大差不差，就是把你的终点和起点设置好，把它需要经过的整个路径点设置好之后，不断的跑一个最短路径的优化算法。

这个算法他可能是先分组，然后再在每一个分组类做优化。也有可能，就是直接优化后，再根据你的运力来分组。

然后会有其他算法，就是预估一下你两个点之间大概要走的这么一个参数是多少，最短的话就是一就直线一样，直来直望，但不会超过2，2的意思，就是说你差不多要往返一次，才能到那一点去。

再就是会根据地球的经纬度，知道两个点之间的经纬度的话，可以稍微算一下，当然这个是路径优化中会参考的方法，并不是所有的都会这么做。

> 供应链是否使用模型来决策和优化？有哪些常用模型？

答案是先做事，供应链是会用非常非常多的模型来支撑你的决策和优化，至于常用模型，我只能说工业园管理，他分支分的很细，每一类都特别多。

我们今天讲了预测中会用到的一些模型，在回答上一个问题的时候，讲到了一些算法的模型，然后我觉得还会有非常多的统计学方面的模型。

比如说排队问题排队问题的话，是一个随机最优，这个是公务员管理经常要用的，它既可以实际成为在机场排队过安检，或者是在快餐店排队等着取餐，也可以在一个产线上看各个流程上哪一个会是瓶颈，让你的效率没有变快。

然后会有很多简单，但是用的非常多的，比如说会有一些线性规划。

再就是运筹学上经常会用到的一些大家都学过的几元几次方程。

这个就是用的最多的了，如果再细分的话，从建模分析和优化都可以扩展出非常非常多的数学模型。

> 强化学习有木有成功的应用到供应链相关的场景上，例如进行决策优化这类的

我们在和一家船运公司合作的适合 尝试用过RL做决策优化。不过是针对航运 整体上感觉供应链也算是一个更复杂的物流问题？感觉是可以做一些simulator，然后用数据驱动去learn。

主要还是供应链是多智能体的，复杂度太高了。远远大于类似物流运输这种的。

话说我们和OOCL（东方海外货柜航运公司）的合作 帮他们省了一年一千多万美金的运输成本 主要是降低了上下游的调度成本。

船在海上航行、各个港口间的调度、空船、满载、成本都是不一样的。

## 补充

供应链管理里有几类典型问题。

1. 第一个叫报童问题，是说报纸今天你进货进多了，卖不掉就会亏，那如果进少了，你就没有办法赚到最大的利润，那么，你要根据过往的数据来判断你进货到多少，算是一个能最大化自己收益的怎么一个进货量。对各种过季就折价的产品适用；
1. 第二个叫traveling sales person problem，也就是找最优路径。他让你在已知地图的情况下来看，研究怎么样走，可以从一个点到另一个点最短，这个大家做CS应该非常熟悉，会有各种算法；
1. 再就是各种限制下的凸优化最优解；
1. 还有最后一公里，这个问题是说一个包裹到你附近之后，最后一公里，谁去送怎么送。延伸出来最后五公里、最后一百米、以及最初一公里各种。
